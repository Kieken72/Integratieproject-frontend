<h1>{{title}}</h1>

<form #branchForm="ngForm" class="form-horizontal">
  <div class="form-group">
    <label for="brancheName" class="col-sm-3 control-label">Filiaal naam:</label>
    <div class="col-sm-9">
      <input class="form-control" id="brancheName" required [(ngModel)]="branch.Name" name="name" #name="ngModel" #BrancheName/>
      <div *ngIf="name.errors && (name.dirty || name.touched)"
           class="alert alert-danger">
        <div [hidden]="!name.errors.required">
          Naam mag niet leeg zijn.
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
  <label for="brancheStreet" class="col-sm-3 control-label">Straat:</label>
  <div class="col-sm-9">
    <input class="form-control" id="brancheStreet" required [(ngModel)]="branch.Street" name="street" #street="ngModel" #BrancheStreet/>
    <div *ngIf="street.errors && (street.dirty || street.touched)"
         class="alert alert-danger">
      <div [hidden]="!street.errors.required">
        Straat mag niet leeg zijn.
      </div>
    </div>
  </div>
</div>
  <div class="form-group">
    <label for="brancheNumber" class="col-sm-3 control-label">Nummer:</label>
    <div class="col-sm-9">
      <input class="form-control" id="brancheNumber" required [(ngModel)]="branch.Number" name="number" #number="ngModel"  #BrancheNumber/>
      <div *ngIf="number.errors && (number.dirty || number.touched)"
           class="alert alert-danger">
        <div [hidden]="!number.errors.required">
          Nummer mag niet leeg zijn.
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="brancheBox" class="col-sm-3 control-label">Postbus:</label>
    <div class="col-sm-9">
      <input class="form-control" id="brancheBox" #BrancheBox/>
    </div>
  </div>
  <div class="form-group">
    <label for="companyCity" class="col-sm-3 control-label">City:</label>
    <div class="col-sm-9">
      <select class="form-control" name="cityId" [(ngModel)]="cityid" required [(ngModel)]="branch.City" name="city" #city="ngModel" #CityId >
        <option id="companyCity" *ngFor="let city of cities" [ngValue]="city.Id">{{city.PostalCode}} | {{city.Name}}</option>
      </select>
      <div *ngIf="city.errors && (city.dirty || city.touched)"
           class="alert alert-danger">
        <div [hidden]="!city.errors.required">
          Plaats mag niet leeg zijn.
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="branchePhoneNumber" class="col-sm-3 control-label">Telefoon nummer:</label>
    <div class="col-sm-9">
      <input class="form-control" id="branchePhoneNumber" required [(ngModel)]="branch.PhoneNumber" name="phoneNum" #phoneNum="ngModel" #BranchePhoneNumber/>
      <div *ngIf="phoneNum.errors && (phoneNum.dirty || phoneNum.touched)"
           class="alert alert-danger">
        <div [hidden]="!phoneNum.errors.required">
          Telefoon nummer mag niet leeg zijn.
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="brancheEmail" class="col-sm-3 control-label">E-mail:</label>
    <div class="col-sm-9">
      <input class="form-control" id="brancheEmail" required [(ngModel)]="branch.Email" name="email" #email="ngModel" #BrancheEmail/>
      <div *ngIf="email.errors && (email.dirty || email.touched)"
           class="alert alert-danger">
        <div [hidden]="!email.errors.required">
          E-mail nummer mag niet leeg zijn.
        </div>
      </div>
    </div>
  </div>
</form>
  <div class="form-group">
    <div class="col-sm-offset-3 col-sm-9">
      <button class="btn btn-default" [disabled]="!branchForm.form.valid"
              (click)="addBranche(BrancheName.value, BrancheStreet.value, BrancheNumber.value, BrancheBox.value, CityId.value, BranchePhoneNumber.value, BrancheEmail.value )">Add</button>
    </div>
  </div>


<h2>Branches</h2>

<div class="table-responsive">
  <table class="table table-hover">
    <caption>Caption here?</caption>
    <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Address</th>
        <th>Email</th>
        <th>Phone Number</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let branch of branches">
        <th scope="row">{{branch.Id}}</th>
        <td>{{branch.Name}}</td>
        <td>{{branch.Street}} {{branch.Number}} {{branch.Box}}, {{branch.City.PostalCode}} {{branch.City.Name}}</td>
        <td><a href="mailto:{{branch.Email}}">{{branch.Email}}</a></td>
        <td>{{branch.PhoneNumber}}</td>
      </tr>
    </tbody>
  </table>
</div>



